{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "자소서 스키마",
    "description": "AI 데이터로 제공되는 자소서 스키마",
    "type": "object",
    "properties": {
        "status": {
            "type": "string",
            "enum": [
                "accepted",
                "rejected",
                "unknown"
            ]
        },
        "companyName": {
            "type": "string",
            "description": "지원 기업명"
        },
        "positionName": {
            "type": "string",
            "description": "지원 직무 또는 직무 설명"
        },
        "applicationAt": {
            "type": "string",
            "format": "date",
            "description": "지원 시기 (예: 2025-07-01)"
        },
        "applicant": {
            "type": "array",
            "description": "지원자 정보 키워드들",
            "items": {
                "type": "string"
            }
        },
        "essays": {
            "type": "array",
            "description": "자기소개서 문항 리스트",
            "items": {
                "type": "object",
                "properties": {
                    "question": {
                        "type": "string",
                        "description": "자기소개서 문항 (질문)"
                    },
                    "answer": {
                        "type": "string",
                        "description": "해당 문항에 대한 작성 답변"
                    },
                    "maxLength": {
                        "type": "integer",
                        "description": "문항의 최대 글자 수"
                    }
                },
                "required": [
                    "question",
                    "answer"
                ]
            }
        },
        "metadata": {
            "description": "크롤링 및 데이터 처리에 대한 메타 정보",
            "type": "object",
            "properties": {
                "source": {
                    "description": "데이터 출처 플랫폼 (예: Wanted, Saramin)",
                    "type": "string"
                },
                "sourceUrl": {
                    "description": "원본 URL",
                    "type": "string",
                    "format": "uri"
                },
                "crawledAt": {
                    "description": "데이터를 크롤링한 시점의 타임스탬프",
                    "type": "string",
                    "format": "date-time"
                }
            },
            "required": [
                "source",
                "sourceUrl",
                "crawledAt"
            ]
        },
        "sourceData": {
            "description": "파싱되기 전의 원본 데이터 (JSON 객체 또는 HTML 문자열)",
            "type": [
                "object",
                "string"
            ]
        }
    },
    "required": [
        "companyName",
        "positionName",
        "applicant",
        "essays",
        "metadata",
        "sourceData"
    ]
}